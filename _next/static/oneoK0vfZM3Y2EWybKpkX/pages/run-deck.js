(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"5vtm":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("JTPn"),c=n("vOnD"),a=n("nOHt"),u=n.n(a),d=n("YFqc"),l=n.n(d),s=n("wHcE"),p=n("VVoN"),f=o.a.createElement,h=c.c.div.withConfig({displayName:"RunDeck__EmptyDeck",componentId:"sc-1053bqn-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;color:",";text-align:center;"],(function(e){return e.theme.colors.black})),m=c.c.div.withConfig({displayName:"RunDeck__TitleWrapper",componentId:"sc-1053bqn-1"})(["display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;"]),g=c.c.h1.withConfig({displayName:"RunDeck__Title",componentId:"sc-1053bqn-2"})(["color:",";margin:0px;text-align:center;"],(function(e){return e.theme.colors.primary})),b=c.c.div.withConfig({displayName:"RunDeck__FlipCardWrapper",componentId:"sc-1053bqn-3"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;"]),y=c.c.div.withConfig({displayName:"RunDeck__FlipCard",componentId:"sc-1053bqn-4"})(["background-color:transparent;width:500px;height:300px;border:1px solid ",";perspective:1000px;margin-bottom:20px;border-radius:10px;"],(function(e){return e.theme.colors.border})),k=c.c.div.withConfig({displayName:"RunDeck__FlipCardInner",componentId:"sc-1053bqn-5"})(["position:relative;width:100%;height:100%;text-align:center;transition:transform 0.4s;transform-style:preserve-3d;transform:",";"],(function(e){return e.flip?"rotateY(180deg)":null})),x=c.c.div.withConfig({displayName:"RunDeck__FlipCardFront",componentId:"sc-1053bqn-6"})(["display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;backface-visibility:hidden;background-color:",";color:",";font-size:40px;transform:rotateY(0deg);border-radius:10px;"],(function(e){return e.theme.colors.focusBackground}),(function(e){return e.theme.colors.primaryHighlighted})),w=c.c.div.withConfig({displayName:"RunDeck__FlipCardBack",componentId:"sc-1053bqn-7"})(["display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;backface-visibility:hidden;background-color:",";color:",";font-size:40px;transform:rotateY(180deg);border-radius:10px;"],(function(e){return e.theme.colors.primaryHighlighted}),(function(e){return e.theme.colors.white})),v=c.c.div.withConfig({displayName:"RunDeck__ButtonWrapper",componentId:"sc-1053bqn-8"})(["display:flex;flex-direction:row;"]),C=Object(c.c)(s.b).withConfig({displayName:"RunDeck__EditButton",componentId:"sc-1053bqn-9"})(["width:150px;margin-top:20px;"]),_=Object(c.c)(s.b).withConfig({displayName:"RunDeck__StyledButton",componentId:"sc-1053bqn-10"})(["background-color:",";width:",";margin:0 5px;"],(function(e){return e.theme.colors.primary}),(function(e){return e.flipButton?"200px":"auto"})),O=c.c.div.withConfig({displayName:"RunDeck__CardStatus",componentId:"sc-1053bqn-11"})(["padding:20px 0;"]),j=n("XsGP"),D=n("cpgX"),I=o.a.createElement,N=Object(j.a)((function(e){var t=e.name,n=e.cards,o=e.id,i=Object(r.useState)({index:0,flip:!1}),c=i[0],a=i[1];return 0===n.length?f(p.a,null,f(m,null,f(g,null,t),f(s.a,{onClick:function(){return u.a.back()}},"Done")),f(h,null,"This deck is empty. Add cards by editing the deck.",f(l.a,{key:o,href:"/edit-deck?id=".concat(o)},f(C,{type:"Edit"},"Edit deck")))):f(p.a,null,f(m,null,f(g,null,t),f(v,null,f(_,{disabled:0===c.index,onClick:function(){return a((function(e){return{index:0,flip:e.flip}}))}},"Restart"),f(s.a,{onClick:function(){return u.a.back()}},"Done"))),f(b,null,f(y,{key:c.index},f(k,{flip:c.flip},f(x,null," ",n[c.index].original),f(w,null," ",n[c.index].translation))),f(v,null,f(s.a,{disabled:0===c.index,onClick:function(){return a((function(e){var t=e.index;return 0===t?{index:n.length-1,flip:!1}:{index:t-1,flip:!1}}))}},"Back"),f(_,{flipButton:!0,onClick:function(){return a((function(e){return{index:e.index,flip:!e.flip}}))}},"Flip"),f(s.a,{disabled:c.index+1===n.length,onClick:function(){return a((function(e){var t=e.index;return t<n.length-1?{index:t+1,flip:!1}:{index:0,flip:!1}}))}},"Next")),f(O,null,"".concat(c.index+1,"/").concat(n.length))))}),(function(e){return e?"Run Test: ".concat(e):"Run Test"}));t.default=function(){return I(o.a.Fragment,null,I(i.a,null),I(D.a,null),I("main",null,I(N,null)))}},VVoN:function(e,t,n){"use strict";var r=n("vOnD"),o=n("55GN"),i=r.c.div.withConfig({displayName:"Container",componentId:"sc-1v56vj7-0"})(["width:80%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box;position:relative;@media screen and (max-width:","){width:85%;}@media screen and (max-width:","){width:100%;}"],o.a.tablet.max,o.a.smallPhone.max);t.a=i},XsGP:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("8Kt/"),c=n.n(i),a=n("vOnD");function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=n("rePB"),l=n("nOHt"),s=n("Wcq6"),p=n.n(s),f=n("slLH"),h=n("WdAl");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(){var e=Object(l.useRouter)(),t=e.query.id,n=Object(r.useContext)(f.b),o=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return g({},e,{status:"rejected",error:t.error});case"fetch":return g({},e,{status:"fetching"});case"success":switch(e.status){case"fetching":return g({},e,{status:"resolved",deck:t.deck});case"uploading":return g({},e,{status:"resolved",edited:!1});default:return g({},e)}case"submit_changes":return g({},e,{status:"uploading"});case"local_update":return g({},e,{edited:!0,deck:t.updateFn(e.deck)});default:throw new Error("Unhandled action type: ".concat(t.type))}}),{status:"start",deck:null,error:null,edited:!1}),i=o[0],c=o[1];Object(r.useEffect)((function(){var e=!1;return c({type:"fetch"}),h.a.collection("decks").doc(t).get().then((function(t){if(!e){if(!t.exists)throw new Error("The deck could not be found. Try going back to your decks, and trying this action again.");c({type:"success",deck:t.data()})}})).catch((function(t){return e||c({type:"error",error:t})})),function(){e=!0}}),[t]);return{status:i.status,deck:i.deck,error:i.error,edited:i.edited,updateName:function(e){return c({type:"local_update",updateFn:function(t){return g({},t,{name:e})}})},updateCard:function(e){return function(t,n){return c({type:"local_update",updateFn:function(r){var o=r.cards.map((function(r,o){return o!==e?r:g({},r,Object(d.a)({},t,n))}));return g({},r,{cards:o})}})}},addCard:function(){return c({type:"local_update",updateFn:function(e){return g({},e,{cards:[].concat(u(e.cards),[{original:"",translation:""}])})}})},submitChanges:function(){c({type:"submit_changes"}),h.a.collection("decks").doc(t).set(i.deck).then((function(){c({type:"success"}),e.push("/repeat")})).catch((function(e){return c({type:"error",error:e})}))},id:t,removeCard:function(e){return function(){return c({type:"local_update",updateFn:function(t){return g({},t,{cards:t.cards.filter((function(t,n){return n!==e}))})}})}},removeDeck:function(){c({type:"submit_changes"}),h.a.collection("decks").doc(t).delete().then((function(){e.push("/repeat")})).catch((function(e){return c({type:"error",error:e})}))},uid:n.user&&n.user.uid,copyDeck:function(){c({type:"submit_changes"});var t=g({},i.deck,{uid:n.user.uid,createdAt:p.a.firestore.FieldValue.serverTimestamp(),name:"Copy of ".concat(i.deck.name)});return h.a.collection("decks").add(t).then((function(){e.push("/repeat")})).catch((function(e){return c({type:"error",error:e})}))}}},y=n("2iwK"),k=n("uX9c"),x=o.a.createElement,w=a.c.div.withConfig({displayName:"withDeck__SpinnerContainer",componentId:"c9bzi-0"})(["position:relative;"]);t.a=function(e,t){return function(){var n=b(),r=n.status,i=n.deck,a=n.error,u=n.edited,d=n.updateName,l=n.updateCard,s=n.addCard,p=n.submitChanges,f=n.id,h=n.removeCard,m=n.removeDeck,g=n.uid,v=n.copyDeck;return"start"===r||"fetching"===r?x(w,null,x(c.a,null,x("title",{key:"title"},t()," | Speak Repeat")),x(y.c,null)):"resolved"===r?x(o.a.Fragment,null,x(c.a,null,x("title",{key:"title"},t(i.name)," | Speak Repeat")),x(e,{name:i.name,cards:i.cards,updateName:d,updateCardWithIndex:l,addCard:s,submitChanges:p,edited:u,id:f,removeCardWithIndex:h,removeDeck:m,uid:g,deck:i,copyDeck:v})):"uploading"===r?x(w,null,x(c.a,null,x("title",{key:"title"},t(i.name)," | Speak Repeat")),x(e,{name:i.name,cards:i.cards,updateName:d,updateCardWithIndex:l,addCard:s,submitChanges:p,edited:u,loading:!0,id:f,removeCardWithIndex:h,removeDeck:m,uid:g,deck:i,copyDeck:v}),x(y.c,null)):(console.error(a),x(k.a,null,x(c.a,null,x("title",{key:"title"},"Oops! | Speak Repeat")),a&&a.message||"Something went wrong. Try going back to your decks or refreshing the page after a while."))}}},cpgX:function(e,t,n){"use strict";var r=n("vOnD"),o=n("nOHt"),i=n("q1tI"),c=n.n(i),a=n("YFqc"),u=n.n(a),d=n("Hcgl"),l=c.a.createElement,s=r.c.div.withConfig({displayName:"ViewBar__ViewBarBox",componentId:"itzrp2-0"})(["width:100%;height:80px;display:flex;flex-direction:row;background-color:",";justify-content:flex-end;align-items:center;"],(function(e){return e.theme.colors.focusBackground})),p=r.c.button.withConfig({displayName:"ViewBar__ViewLinks",componentId:"itzrp2-1"})(["background-color:",";border:none;height:80px;color:",";font-family:",";font-size:15px;font-weight:300;cursor:pointer;:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}"],(function(e){return e.theme.colors.focusBackground}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.fonts.text}),(function(e){return e.theme.colors.border}));t.a=Object(o.withRouter)((function(e){var t=e.router.pathname;return l(s,null,l(u.a,{href:"/repeat"},l(d.a,{active:"/repeat"===t},l(p,null,"My Decks"))),l(u.a,{href:"/all-decks"},l(d.a,{active:"/all-decks"===t},l(p,null,"Browse Community Decks"))))}))},iQT6:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/run-deck",function(){return n("5vtm")}])},wHcE:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n("Ff2n"),o=n("q1tI"),i=n.n(o),c=n("vOnD"),a=i.a.createElement,u=c.c.button.withConfig({displayName:"Button",componentId:"hh7xaw-0"})(["background:",";padding:0 20px;border:1px ",";border-style:solid;border-radius:10px;color:",";cursor:pointer;height:43.5px;font-size:14px;:hover:not(:disabled){opacity:0.5;}:disabled{background:",";cursor:not-allowed;}:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primaryMutedInactive}),(function(e){return e.theme.colors.border})),d=Object(c.c)(u).withConfig({displayName:"Button__FixedSizeButton",componentId:"hh7xaw-1"})(["width:43.5px;padding:0%;"]),l=Object(c.c)(u).withConfig({displayName:"Button__DangerButton",componentId:"hh7xaw-2"})(["background-color:",";"],(function(e){return e.theme.colors.danger})),s=Object(c.c)(u).withConfig({displayName:"Button__BlackButton",componentId:"hh7xaw-3"})(["background-color:",";"],(function(e){return e.theme.colors.black})),p=c.c.svg.withConfig({displayName:"Button__StyledIcon",componentId:"hh7xaw-4"})(["color:",";width:20px;"],(function(e){return e.theme.colors.white})),f=function(e){var t=e.icon,n=Object(r.a)(e,["icon"]);return a(d,n,a(p,{as:t}))}}},[["iQT6",1,2,3,5,0,4,6]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{AILO:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),c=n("JTPn"),i=n("doui"),a=n("LR/J"),l=n.n(a),u=n("vOnD"),d=n("YFqc"),s=n.n(d),f=n("USzo"),p=o.a.createElement,h=u.c.div.withConfig({displayName:"DeckSearch",componentId:"sc-1932j2x-0"})(["display:flex;flex-direction:column;background-color:",";justify-content:flex-start;align-items:flex-start;margin:10px;"],(function(e){return e.theme.colors.white})),m=u.c.div.withConfig({displayName:"DeckSearch__SearchBar",componentId:"sc-1932j2x-1"})(["display:flex;flex-direction:row;padding-bottom:10px;height:50px;width:100%;"]),w=u.c.input.withConfig({displayName:"DeckSearch__SearchBox",componentId:"sc-1932j2x-2"})(["background:",";padding:10px 20px;border:1px solid ",";border-radius:10px 0px 0px 10px;flex:1;font-size:18px;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border})),g=u.c.button.withConfig({displayName:"DeckSearch__SearchButton",componentId:"sc-1932j2x-3"})(["background:",";padding:10px;border:1px ",";border-style:solid solid solid none;border-radius:0px 10px 10px 0px;width:40px;cursor:pointer;"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.border})),x=Object(u.c)(f.a).withConfig({displayName:"DeckSearch__StyledSearchIcon",componentId:"sc-1932j2x-4"})(["color:",";width:20px;"],(function(e){return e.theme.colors.white})),b=u.c.button.withConfig({displayName:"DeckSearch__FilterOption",componentId:"sc-1932j2x-5"})(["background-color:",";border:none;color:",";font-family:",";font-size:15px;font-weight:300;margin-left:20px;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.fonts.text})),k=function(){return p(h,null,p(m,null,p(w,{placeholder:"Start typing to search"}),p(g,null,p(x,null))),p(b,null,"Filter"),p(b,null,"Sort"),p(b,null,"Tag"))},y=n("+IKJ"),v=u.c.a.withConfig({displayName:"DeckBox",componentId:"sc-1eyxbev-0"})(["display:flex;flex:0 0 auto;width:150px;height:150px;padding:5px;margin:10px;border-radius:10px;justify-content:center;align-items:center;border-style:",";border-color:",";border-width:4px;background-color:",";font-family:",";font-size:30px;font-weight:600;color:",";text-decoration:none;cursor:pointer;:hover{background-color:",";}:disabled{cursor:not-allowed;}"],(function(e){return e.hollow?"dashed":"none"}),(function(e){return e.theme.colors.primaryMuted}),(function(e){return e.hollow?Object(y.a)(1,e.theme.colors.primaryMuted):e.theme.colors.primaryMuted}),(function(e){return e.theme.fonts.text}),(function(e){return e.hollow?e.theme.colors.primaryMuted:e.theme.colors.white}),(function(e){return e.hollow?Object(y.a)(.8,e.theme.colors.primaryMuted):e.theme.colors.primaryMuted})),j=n("2iwK"),_=o.a.createElement,D=function(e){var t=e.loading,n=e.onClick;return _(v,{hollow:!0,as:"button",onClick:n,disabled:t},t?_(j.a,null):"+")},O=o.a.createElement,C=u.c.div.withConfig({displayName:"RepeatHome__DeckView",componentId:"sc-132i94w-0"})(["height:100vh;display:flex;"]),E=u.c.div.withConfig({displayName:"RepeatHome__DeckWrapper",componentId:"sc-132i94w-1"})(["width:auto;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;background-color:",";"],(function(e){return e.theme.colors.white})),I=function(e){var t=e.decks,n=e.createDeck;return O(o.a.Fragment,null,O(C,null,O(k,null),O(E,null,O(D,{onClick:n}),l()(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return O(s.a,{key:n,href:"/edit-deck?id=".concat(n)},O(v,{key:n},r.name))})))))},N=n("slLH"),S=n("VVoN"),M=o.a.createElement,B=u.c.div.withConfig({displayName:"LoggedInView__MessageWrapper",componentId:"sc-1sibn9g-0"})(["background:",";padding:50px 0;text-align:center;*{font-weight:600;}"],(function(e){return e.theme.colors.white})),V=function(e){var t=e.children,n=r.Children.only(t),o=Object(r.useContext)(N.b);return o.user?Object(r.cloneElement)(n,{user:o.user}):M(B,null,M(S.a,null,"You have to be logged in to view this. Please log in with the button on the top right corner."))},L=n("hfKm"),R=n.n(L),z=n("2Eek"),J=n.n(z),P=n("XoMD"),F=n.n(P),T=n("Jo+v"),H=n.n(T),W=n("4mXO"),X=n.n(W),Y=n("pLtp"),Z=n.n(Y),A=n("vYYK"),K=n("nOHt"),U=n("iqUP"),q=n.n(U),G=n("WdAl");function Q(e,t){var n=Z()(e);if(X.a){var r=X()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):F.a?J()(e,F()(n)):Q(Object(n)).forEach((function(t){R()(e,t,H()(n,t))}))}return e}var ee=function(e,t){switch(t.type){case"update":return $({},e,{status:"loaded",decks:t.decks});case"add_deck":return $({},e,{status:"adding"});case"error":return $({},e,{status:"rejected",error:t.error});default:throw new Error("Unhandled action type: ".concat(t.type))}},te=function(e){var t=Object(K.useRouter)(),n=Object(r.useReducer)(ee,{status:"preloaded",decks:null,error:null}),o=n[0],c=n[1];Object(r.useEffect)((function(){return G.a.collection("decks").where("uid","==",e).onSnapshot({includeMetadataChanges:!0},(function(e){if(!e.metadata.hasPendingWrites){var t={};e.forEach((function(e){t[e.id]=e.data()})),c({type:"update",decks:t})}}),(function(e){return c({type:"error",error:e})}))}),[e]);return $({},o,{createDeck:function(){c({type:"add_deck"}),G.a.collection("decks").add({createdAt:q.a.firestore.FieldValue.serverTimestamp(),uid:e,name:"Untitled Deck",cards:[]}).then((function(e){return t.push("/edit-deck?id=".concat(e.id))})).catch((function(e){return c({type:"error",error:e})}))}})},ne=n("uX9c"),re=o.a.createElement,oe=function(e){var t=e.user.uid,n=te(t),r=n.status,o=n.decks,c=n.error,i=n.createDeck;return"preloaded"===r||"adding"===r?re(j.b,null,re(j.c,null)):"loaded"===r?re(I,{decks:o||{},createDeck:i}):(console.error(c),re(ne.a,null,"There was an error with fetching your decks. Please refresh the page."))},ce=function(){return re(V,null,re(oe,null))},ie=o.a.createElement,ae=u.c.div.withConfig({displayName:"ViewBar",componentId:"itzrp2-0"})(["width:100%;height:80px;display:flex;flex-direction:row;background-color:",";justify-content:flex-end;align-items:center;"],(function(e){return e.theme.colors.focusBackground})),le=u.c.button.withConfig({displayName:"ViewBar__ViewLinks",componentId:"itzrp2-1"})(["background-color:",";border:none;width:100px;height:50px;color:",";font-family:",";font-size:15px;font-weight:300;cursor:pointer;"],(function(e){return e.theme.colors.focusBackground}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.fonts.text})),ue=function(){return ie(ae,null,ie(s.a,{href:"/repeat"},ie(le,null,"My Decks")),ie(s.a,{href:"/repeat"},ie(le,null,"Browse Decks")))},de=o.a.createElement;t.default=function(){return de(o.a.Fragment,null,de(c.a,null),de(ue,null),de(ce,null))}},E8gZ:function(e,t,n){var r=n("jmDH"),o=n("w6GO"),c=n("NsO/"),i=n("NV0k").f;e.exports=function(e){return function(t){for(var n,a=c(t),l=o(a),u=l.length,d=0,s=[];u>d;)n=l[d++],r&&!i.call(a,n)||s.push(e?[n,a[n]]:a[n]);return s}}},"LR/J":function(e,t,n){e.exports=n("tgZa")},"Rw+D":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/repeat",function(){return n("AILO")}])},nGDx:function(e,t,n){var r=n("Y7ZC"),o=n("E8gZ")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},tgZa:function(e,t,n){n("nGDx"),e.exports=n("WEpk").Object.entries}},[["Rw+D",1,2,4,5,6,0,3,7,8]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{BAk0:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view-deck",function(){return n("xds4")}])},OXR1:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("mrSG"),o=n("q1tI"),i=n("vOnD"),a=n("9uj6");function c(e){return Object.keys(e).reduce((t,n)=>(function(e){return Object(a.a)(e)}(n)&&(t[n]=e[n]),t),{})}const d=o.forwardRef((e,t)=>{const{children:n,iconAttrs:i,iconVerticalAlign:a,iconViewBox:d,size:l,title:u}=e,s=Object(r.__rest)(e,["children","iconAttrs","iconVerticalAlign","iconViewBox","size","title"]),p=Object.assign({viewBox:d,height:void 0!==e.height?e.height:l,width:void 0!==e.width?e.width:l,"aria-hidden":null==u?"true":void 0,focusable:"false",role:null!=u?"img":void 0},i),f=c(s);return o.createElement("svg",Object.assign({},p,f,{ref:t}),u&&o.createElement("title",{key:"icon-title"},u),n)}),l=Object(i.c)(d)`
  display: inline-block;
  vertical-align: ${e=>e.iconVerticalAlign};
  overflow: hidden;
`},VVoN:function(e,t,n){"use strict";var r=n("vOnD"),o=n("55GN"),i=r.c.div.withConfig({displayName:"Container",componentId:"sc-1v56vj7-0"})(["width:80%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box;position:relative;@media screen and (max-width:","){width:85%;}@media screen and (max-width:","){width:100%;}"],o.a.tablet.max,o.a.smallPhone.max);t.a=i},XsGP:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("8Kt/"),a=n.n(i),c=n("vOnD");function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=n("rePB"),u=n("nOHt"),s=n("Wcq6"),p=n.n(s),f=n("slLH"),h=n("WdAl");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(){var e=Object(u.useRouter)(),t=e.query.id,n=Object(r.useContext)(f.b),o=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return g({},e,{status:"rejected",error:t.error});case"fetch":return g({},e,{status:"fetching"});case"success":switch(e.status){case"fetching":return g({},e,{status:"resolved",deck:t.deck});case"uploading":return g({},e,{status:"resolved",edited:!1});default:return g({},e)}case"submit_changes":return g({},e,{status:"uploading"});case"local_update":return g({},e,{edited:!0,deck:t.updateFn(e.deck)});default:throw new Error("Unhandled action type: ".concat(t.type))}}),{status:"start",deck:null,error:null,edited:!1}),i=o[0],a=o[1];Object(r.useEffect)((function(){var e=!1;return a({type:"fetch"}),h.a.collection("decks").doc(t).get().then((function(t){if(!e){if(!t.exists)throw new Error("The deck could not be found. Try going back to your decks, and trying this action again.");a({type:"success",deck:t.data()})}})).catch((function(t){return e||a({type:"error",error:t})})),function(){e=!0}}),[t]);return{status:i.status,deck:i.deck,error:i.error,edited:i.edited,updateName:function(e){return a({type:"local_update",updateFn:function(t){return g({},t,{name:e})}})},updateCard:function(e){return function(t,n){return a({type:"local_update",updateFn:function(r){var o=r.cards.map((function(r,o){return o!==e?r:g({},r,Object(l.a)({},t,n))}));return g({},r,{cards:o})}})}},addCard:function(){return a({type:"local_update",updateFn:function(e){return g({},e,{cards:[].concat(d(e.cards),[{original:"",translation:""}])})}})},submitChanges:function(){a({type:"submit_changes"}),h.a.collection("decks").doc(t).set(i.deck).then((function(){a({type:"success"}),e.push("/repeat")})).catch((function(e){return a({type:"error",error:e})}))},id:t,removeCard:function(e){return function(){return a({type:"local_update",updateFn:function(t){return g({},t,{cards:t.cards.filter((function(t,n){return n!==e}))})}})}},removeDeck:function(){a({type:"submit_changes"}),h.a.collection("decks").doc(t).delete().then((function(){e.push("/repeat")})).catch((function(e){return a({type:"error",error:e})}))},uid:n.user&&n.user.uid,copyDeck:function(){a({type:"submit_changes"});var t=g({},i.deck,{uid:n.user.uid,createdAt:p.a.firestore.FieldValue.serverTimestamp(),name:"Copy of ".concat(i.deck.name)});return h.a.collection("decks").add(t).then((function(){e.push("/repeat")})).catch((function(e){return a({type:"error",error:e})}))}}},y=n("2iwK"),w=n("uX9c"),k=o.a.createElement,x=c.c.div.withConfig({displayName:"withDeck__SpinnerContainer",componentId:"c9bzi-0"})(["position:relative;"]);t.a=function(e,t){var n=b(),r=n.status,i=n.deck,c=n.error,d=n.edited,l=n.updateName,u=n.updateCard,s=n.addCard,p=n.submitChanges,f=n.id,h=n.removeCard,m=n.removeDeck,g=n.uid,v=n.copyDeck;return"start"===r||"fetching"===r?k(x,null,k(a.a,null,k("title",{key:"title"},t()," | Speak Repeat")),k(y.c,null)):"resolved"===r?k(o.a.Fragment,null,k(a.a,null,k("title",{key:"title"},t(i.name)," | Speak Repeat")),k(e,{name:i.name,cards:i.cards,updateName:l,updateCardWithIndex:u,addCard:s,submitChanges:p,edited:d,id:f,removeCardWithIndex:h,removeDeck:m,uid:g,deck:i,copyDeck:v})):"uploading"===r?k(x,null,k(a.a,null,k("title",{key:"title"},t(i.name)," | Speak Repeat")),k(e,{name:i.name,cards:i.cards,updateName:l,updateCardWithIndex:u,addCard:s,submitChanges:p,edited:d,loading:!0,id:f,removeCardWithIndex:h,removeDeck:m,uid:g,deck:i,copyDeck:v}),k(y.c,null)):(console.error(c),k(w.a,null,k(a.a,null,k("title",{key:"title"},"Oops! | Speak Repeat")),c&&c.message||"Something went wrong. Try going back to your decks or refreshing the page after a while."))}},wHcE:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n("Ff2n"),o=n("q1tI"),i=n.n(o),a=n("vOnD"),c=i.a.createElement,d=a.c.button.withConfig({displayName:"Button",componentId:"hh7xaw-0"})(["background:",";padding:0 20px;border:1px ",";border-style:solid;border-radius:10px;color:",";cursor:pointer;height:43.5px;font-size:14px;:hover:not(:disabled){opacity:0.5;}:disabled{background:",";cursor:not-allowed;}:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}"],(function(e){var t=e.theme;return e.cancel?t.colors.black:t.colors.primary}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primaryMutedInactive}),(function(e){return e.theme.colors.border})),l=Object(a.c)(d).withConfig({displayName:"Button__FixedSizeButton",componentId:"hh7xaw-1"})(["width:43.5px;padding:0%;"]),u=Object(a.c)(d).withConfig({displayName:"Button__DangerButton",componentId:"hh7xaw-2"})(["background-color:",";"],(function(e){return e.theme.colors.danger})),s=function(e){var t=e.icon,n=Object(r.a)(e,["icon"]),o=Object(a.c)(t).withConfig({displayName:"Button__StyledIcon",componentId:"hh7xaw-3"})(["color:",";width:20px;"],(function(e){return e.theme.colors.white}));return c(l,n,c(o,null))}},xds4:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("JTPn"),a=n("ODXe"),c=n("vOnD"),d=n("YFqc"),l=n.n(d),u=n("VVoN"),s=o.a.createElement,p=c.c.div.withConfig({displayName:"WordCard",componentId:"sc-1jnzmp3-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100px;border-radius:10px;background-color:",";font-family:",";color:",";padding:20px;margin-top:20px;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.fonts.text}),(function(e){return e.theme.colors.blac})),f=c.c.div.withConfig({displayName:"WordCard__Word",componentId:"sc-1jnzmp3-1"})(["text-align:center;border-style:none;width:250px;font-size:16px;&:focus{outline:none;}"]),h=c.c.hr.withConfig({displayName:"WordCard__Seperator",componentId:"sc-1jnzmp3-2"})(["width:300px;height:10px;border:0.5px solid ",";"],(function(e){return e.theme.colors.border})),m=function(e){var t=e.card;return s(p,null,s(f,null,t.original?t.original:"Original Word"),s(h,null),s(f,null,t.translation?t.translation:"Translation"))},g=n("wHcE"),b=n("55GN"),y=n("mrSG"),w=n("OXR1"),k=r.forwardRef((function(e,t){return r.createElement(w.a,Object(y.__assign)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),r.createElement("path",{fill:"none",d:"M0 0h24v24H0z",key:"k0"}),r.createElement("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z",key:"k1"}))}));k.displayName="Close";var x=o.a.createElement,v=Object(c.d)(["from{opacity:0;}to{opacity:1;}"]),C=c.c.div.withConfig({displayName:"Modal__Shadow",componentId:"sc-17k5zh7-0"})(["margin:0;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2;background-color:rgba(0,0,0,0.3);"]),_=c.c.div.withConfig({displayName:"Modal__ModalContainer",componentId:"sc-17k5zh7-1"})(["width:100%;max-width:500px;margin:0 auto;margin-top:10vh;padding:0 20px;"]),O=c.c.div.withConfig({displayName:"Modal",componentId:"sc-17k5zh7-2"})(["width:100%;background:",";box-shadow:0 0 18px rgba(0,0,0,0.4);border-radius:5px;position:relative;animation:"," 0.3s;"],(function(e){return e.theme.colors.white}),v),j=c.c.div.withConfig({displayName:"Modal__Header",componentId:"sc-17k5zh7-3"})(["padding:16px;border-bottom:1px solid ",";display:flex;"],(function(e){return e.theme.colors.border})),N=c.c.h2.withConfig({displayName:"Modal__HeaderTitle",componentId:"sc-17k5zh7-4"})(["font-size:16px;margin:0px;font-family:",";flex:1;"],(function(e){return e.theme.fonts.text})),D=Object(c.c)(g.c).withConfig({displayName:"Modal__Button",componentId:"sc-17k5zh7-5"})(["background:none;border:none;padding:0;width:auto;height:auto;svg{color:",";width:24px;}"],(function(e){return e.theme.colors.black})),I=c.c.div.withConfig({displayName:"Modal__Content",componentId:"sc-17k5zh7-6"})(["padding:16px;overflow-y:auto;strong{font-weight:600;}> *{margin-top:0;}"]),E=function(e){var t=e.children,n=e.title,r=e.toggleVisible;return x(C,{onClick:r},x(_,{onClick:function(e){return e.stopPropagation()}},x(O,null,x(j,null,x(N,null,n),x(D,{icon:k,onClick:r,title:"Close Modal","aria-label":"Close Modal"})),x(I,null,t))))},z=n("wd2G"),V=o.a.createElement,A=c.c.fieldset.withConfig({displayName:"ViewDeck__Background",componentId:"b4biry-0"})(["background-color:",";width:100%;border:none;padding:0;margin:0;:disabled{opacity:0.5;}"],(function(e){return e.theme.colors.focusBackground})),B=c.c.div.withConfig({displayName:"ViewDeck__TitleBar",componentId:"b4biry-1"})(["display:flex;width:100%;height:100%;padding-top:20px;align-items:center;"]),P=c.c.h1.withConfig({displayName:"ViewDeck__DeckName",componentId:"b4biry-2"})(["min-width:0;font-weight:800;@media screen and (max-width:","){flex:1;}"],b.a.tablet.max),S=c.c.div.withConfig({displayName:"ViewDeck__ButtonsWrapper",componentId:"b4biry-3"})(["margin-left:auto;display:flex;flex-direction:row;& > button{margin-left:10px;}"]),W=c.c.div.withConfig({displayName:"ViewDeck__WordsWrapper",componentId:"b4biry-4"})(["padding-bottom:50px;"]),M=c.c.div.withConfig({displayName:"ViewDeck__AlignRight",componentId:"b4biry-5"})(["display:flex;justify-content:flex-end;> button{margin-left:10px;}"]),T=function(e){var t=e.name,n=e.cards,r=e.id,i=e.removeDeck,c=e.uid,d=e.deck,s=e.copyDeck,p=Object(z.a)(),f=Object(a.a)(p,2),h=f[0],b=f[1];return V(A,null,V(u.a,null,V(B,null,V(P,null,t),V(S,null,c===d.uid?V(l.a,{key:r,href:"/edit-deck?id=".concat(r)},V(g.a,{type:"button"},"Edit deck")):V(g.a,{type:"button",onClick:s,disabled:null===c},"Copy deck"),V(l.a,{href:"/run-deck?id=".concat(r)},V(g.a,{type:"button"},"Run deck")),c===d.uid?V(o.a.Fragment,null,V(l.a,{href:"/repeat"},V(g.a,{type:"button",cancel:!0},"Go back")),V(g.b,{type:"button",onClick:b},"Delete"),h&&V(E,{title:"Are you absolutely sure?",toggleVisible:b},V("p",null,"Do you really want to delete the"," ",V("strong",null,d.name)," deck? This action cannot be undone."),V(M,null,V(g.a,{type:"button",cancel:!0,onClick:b},"Cancel"),V(g.b,{type:"button",onClick:i},"Delete")))):V(l.a,{href:"/all-decks"},V(g.a,{type:"button",cancel:!0},"Go back")))),V(W,null,n.map((function(e,t){return V(m,{key:t,card:e},"Test")})))))},F=n("XsGP"),R=o.a.createElement,G=function(){return Object(F.a)(T,(function(e){return e||"View Deck"}))};t.default=function(){return R(o.a.Fragment,null,R(i.a,null),R("main",null,R(G,null)))}}},[["BAk0",1,2,3,5,0,4,6]]]);
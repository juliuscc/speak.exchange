(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/chj":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n("q1tI"),o=n.n(r),a=n("vOnD"),i=n("USzo"),c=n("wHcE"),d=o.a.createElement,u=a.c.input.withConfig({displayName:"Input",componentId:"sc-176vmps-0"})(["background:",";padding:10px 20px;border:1px solid ",";border-radius:10px;font-size:18px;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border})),s=a.c.div.withConfig({displayName:"Input__SearchInputWrapper",componentId:"sc-176vmps-1"})(["width:100%;display:flex;"]),l=Object(a.c)(u).withConfig({displayName:"Input__HalfInput",componentId:"sc-176vmps-2"})(["border-radius:10px 0 0 10px;flex:1;"]),p=Object(a.c)(c.b).withConfig({displayName:"Input__SearchButton",componentId:"sc-176vmps-3"})(["border-style:solid solid solid none;border-radius:0px 10px 10px 0px;width:40px;"]),f=function(e){var t=e.onChange,n=e.value,r=e.placeholder,o=e.onClick;return d(s,null,d(l,{onChange:t,value:n,placeholder:r}),d(p,{onClick:o,icon:i.a}))}},"0tVQ":function(e,t,n){n("FlQf"),n("VJsP"),e.exports=n("WEpk").Array.from},"2Eek":function(e,t,n){e.exports=n("W7oM")},"2iwK":function(e,t,n){"use strict";var r=n("vOnD"),o=Object(r.d)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),a=r.c.div.withConfig({displayName:"Spinner",componentId:"g0l2lc-0"})(["border:10px solid ",";border-radius:50%;border-top:10px solid ",";width:70px;height:70px;animation:"," 1s linear infinite;position:absolute;top:70px;left:calc(50% - 35px);filter:drop-shadow(0px 0px 10px #ddd);"],(function(e){return e.theme.colors.focusBackground}),(function(e){return e.theme.colors.primary}),o);t.a=a},"4ZG5":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("JTPn"),i=n("vOnD"),c=n("YFqc"),d=n.n(c),u=n("VVoN"),s=o.a.createElement,l=i.c.div.withConfig({displayName:"WordCardEdit__WordCard",componentId:"sc-1a1eyhd-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100px;border-radius:10px;background-color:",";font-family:",";color:",";padding:20px;margin-top:20px;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.fonts.text}),(function(e){return e.theme.colors.primaryMuted})),p=i.c.form.withConfig({displayName:"WordCardEdit__InputWrapper",componentId:"sc-1a1eyhd-1"})([""]),f=i.c.input.withConfig({displayName:"WordCardEdit__Word",componentId:"sc-1a1eyhd-2"})(["text-align:center;border-style:none;width:250px;font-size:16px;&:focus{outline:none;}"]),h=i.c.hr.withConfig({displayName:"WordCardEdit__Seperator",componentId:"sc-1a1eyhd-3"})(["width:300px;height:10px;border:0.5px solid ",";"],(function(e){return e.theme.colors.border})),m=function(e){var t=e.card,n=e.setCardWithField;return s(l,null,s(p,null,s(f,{type:"text",placeholder:"Original word",value:t.original,onChange:function(e){return n("original",e.target.value)}})),s(h,null),s(p,null,s(f,{type:"text",placeholder:"Translation",value:t.translation,onChange:function(e){return n("translation",e.target.value)}})))},g=n("wHcE"),x=n("/chj"),w=n("55GN"),b=o.a.createElement,v=i.c.fieldset.withConfig({displayName:"EditDeck__Background",componentId:"sc-1cohc8p-0"})(["background-color:",";width:100%;border:none;:disabled{opacity:0.5;}"],(function(e){return e.theme.colors.focusBackground})),y=i.c.div.withConfig({displayName:"EditDeck__TitleBar",componentId:"sc-1cohc8p-1"})(["display:flex;width:100%;height:100%;padding-top:20px;align-items:center;"]),C=Object(i.c)(x.a).withConfig({displayName:"EditDeck__DeckName",componentId:"sc-1cohc8p-2"})(["min-width:0;@media screen and (max-width:","){flex:1;}"],w.a.tablet.max),k=i.c.div.withConfig({displayName:"EditDeck__ButtonsWrapper",componentId:"sc-1cohc8p-3"})(["margin-left:auto;display:flex;flex-direction:row;& > *{margin-left:10px;}"]),_=i.c.div.withConfig({displayName:"EditDeck__WordsWrapper",componentId:"sc-1cohc8p-4"})(["padding-bottom:50px;"]),I=i.c.button.withConfig({displayName:"EditDeck__HollowWordCard",componentId:"sc-1cohc8p-5"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100px;border-radius:10px;border-style:dashed;border-color:",";border-width:4px;background:none;font-family:",";font-size:100px;color:",";padding:20px;margin-top:20px;cursor:pointer;"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.fonts.text}),(function(e){return e.theme.colors.white})),N=function(e){var t=e.name,n=e.updateName,r=e.cards,o=e.updateCardWithIndex,a=e.addCard,i=e.submitChanges,c=e.edited,s=e.loading;return b(v,{disabled:s},b(u.a,null,b(y,null,b(C,{type:"text",placeholder:"Enter a name for you new deck",onChange:function(e){return n(e.target.value)},value:t}),b(k,null,b(g.a,{type:"button",onClick:i,disabled:!c},"Save changes"),b(d.a,{href:"/repeat"},b(g.a,{type:"button",cancel:!0},"Cancel")))),b(_,null,r.map((function(e,t){return b(m,{key:t,card:e,setCardWithField:o(t)})})),b(I,{onClick:a},"+"))))},E=n("hfKm"),O=n.n(E),j=n("2Eek"),W=n.n(j),D=n("XoMD"),S=n.n(D),P=n("Jo+v"),B=n.n(P),F=n("4mXO"),T=n.n(F),Z=n("pLtp"),z=n.n(Z),A=n("p0XB"),G=n.n(A);var Y=n("d04V"),K=n.n(Y),V=n("yLu3"),q=n.n(V);function J(e){return function(e){if(G()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(q()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return K()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var X=n("vYYK"),H=n("nOHt"),M=n("lfnA");function Q(e,t){var n=z()(e);if(T.a){var r=T()(e);t&&(r=r.filter((function(t){return B()(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(X.a)(e,t,n[t])})):S.a?W()(e,S()(n)):Q(Object(n)).forEach((function(t){O()(e,t,B()(n,t))}))}return e}var R=function(){var e=Object(H.useRouter)().query.id,t=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return L({},e,{status:"rejected",error:t.error});case"fetch":return L({},e,{status:"fetching"});case"success":switch(e.status){case"fetching":return L({},e,{status:"resolved",deck:t.deck});case"uploading":return L({},e,{status:"resolved"});default:return L({},e)}case"submit_changes":return L({},e,{status:"uploading"});case"local_update":return L({},e,{edited:!0,deck:t.updateFn(e.deck)});default:throw new Error("Unhandled action type: ".concat(t.type))}}),{status:"start",deck:null,error:null,edited:!1}),n=t[0],o=t[1];Object(r.useEffect)((function(){var t=!1;return o({type:"fetch"}),M.a.collection("decks").doc(e).get().then((function(e){if(!t){if(!e.exists)throw new Error("The deck could not be found. Try going back to your decks, and trying this action again.");o({type:"success",deck:e.data()})}})).catch((function(e){return t||o({type:"error",error:e})})),function(){t=!0}}),[e]);return{status:n.status,deck:n.deck,error:n.error,edited:n.edited,updateName:function(e){return o({type:"local_update",updateFn:function(t){return L({},t,{name:e})}})},updateCard:function(e){return function(t,n){return o({type:"local_update",updateFn:function(r){var o=r.cards.map((function(r,o){return o!==e?r:L({},r,Object(X.a)({},t,n))}));return L({},r,{cards:o})}})}},addCard:function(){return o({type:"local_update",updateFn:function(e){return L({},e,{cards:[].concat(J(e.cards),[{original:"",translation:""}])})}})},submitChanges:function(){o({type:"submit_changes"}),M.a.collection("decks").doc(e).set(n.deck).then((function(){o({type:"success"})})).catch((function(e){return o({type:"error",error:e})}))}}},U=n("2iwK"),$=n("uX9c"),ee=o.a.createElement,te=i.c.div.withConfig({displayName:"EditDeckContainer__SpinnerContainer",componentId:"sc-1darh8s-0"})(["position:relative;"]),ne=function(){var e=R(),t=e.status,n=e.deck,r=e.error,o=e.edited,a=e.updateName,i=e.updateCard,c=e.addCard,d=e.submitChanges;return"start"===t||"fetching"===t?ee(te,null,ee(U.a,null)):"resolved"===t?ee(N,{name:n.name,cards:n.cards,updateName:a,updateCardWithIndex:i,addCard:c,submitChanges:d,edited:o}):"uploading"===t?ee(te,null,ee(N,{name:n.name,cards:n.cards,updateName:a,updateCardWithIndex:i,addCard:c,submitChanges:d,edited:o,loading:!0}),ee(U.a,null)):(console.error(r),ee($.a,null,r&&r.message||"Something went wrong. Try going back to your decks or refreshing the page after a while."))},re=o.a.createElement;t.default=function(){return re(o.a.Fragment,null,re(a.a,null),re(ne,null))}},"55GN":function(e,t,n){"use strict";t.a={smallPhone:{max:"600px"},tablet:{min:"600px",max:"992px"},laptop:{min:"992px",max:"1200px"},desktop:{min:"1200px"}}},"7m0m":function(e,t,n){var r=n("Y7ZC"),o=n("uplh"),a=n("NsO/"),i=n("vwuL"),c=n("IP1Z");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),d=i.f,u=o(r),s={},l=0;u.length>l;)void 0!==(n=d(r,t=u[l++]))&&c(s,t,n);return s}})},IP1Z:function(e,t,n){"use strict";var r=n("2faE"),o=n("rr1i");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},SKQo:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-deck",function(){return n("4ZG5")}])},VJsP:function(e,t,n){"use strict";var r=n("2GTP"),o=n("Y7ZC"),a=n("JB68"),i=n("sNwI"),c=n("NwJ3"),d=n("tEej"),u=n("IP1Z"),s=n("fNZA");o(o.S+o.F*!n("TuGD")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,l,p=a(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,x=0,w=s(p);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==w||f==Array&&c(w))for(n=new f(t=d(p.length));t>x;x++)u(n,x,g?m(p[x],x):p[x]);else for(l=w.call(p),n=new f;!(o=l.next()).done;x++)u(n,x,g?i(l,m,[o.value,x],!0):o.value);return n.length=x,n}})},VVoN:function(e,t,n){"use strict";var r=n("vOnD"),o=n("55GN"),a=r.c.div.withConfig({displayName:"Container",componentId:"sc-1v56vj7-0"})(["width:80%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box;position:relative;@media screen and (max-width:","){width:85%;}@media screen and (max-width:","){width:100%;}"],o.a.tablet.max,o.a.smallPhone.max);t.a=a},W7oM:function(e,t,n){n("nZgG");var r=n("WEpk").Object;e.exports=function(e,t){return r.defineProperties(e,t)}},XoMD:function(e,t,n){e.exports=n("hYAz")},d04V:function(e,t,n){e.exports=n("0tVQ")},hYAz:function(e,t,n){n("7m0m"),e.exports=n("WEpk").Object.getOwnPropertyDescriptors},nZgG:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperties:n("fpC5")})},uX9c:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("vOnD"),i=n("55GN"),c=o.a.createElement,d=a.c.div.withConfig({displayName:"ErrorBox",componentId:"xmkffj-0"})(["margin:0 auto;margin-top:20px;max-width:500px;padding:30px 20px;border:solid 1px ",";background:",";border-radius:10px;color:",";h1{margin-top:0;line-height:1;}p{margin-bottom:0;}@media screen and (max-width:","){h1{font-size:25px;}p{font-size:14px;}}"],(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.dangerMuted}),(function(e){return e.theme.colors.danger}),i.a.tablet.max);t.a=function(e){var t=e.children;return c(d,null,c("h1",null,"Oops, an error occurred!"),c("p",null,t))}},uplh:function(e,t,n){var r=n("ar/p"),o=n("mqlF"),a=n("5K7Z"),i=n("5T2Y").Reflect;e.exports=i&&i.ownKeys||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},vYYK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("hfKm"),o=n.n(r);function a(e,t,n){return t in e?o()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},wHcE:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s}));var r=n("qNsG"),o=n("q1tI"),a=n.n(o),i=n("vOnD"),c=a.a.createElement,d=i.c.button.withConfig({displayName:"Button",componentId:"hh7xaw-0"})(["background:",";padding:10px 20px;border:1px ",";border-style:solid;border-radius:10px;color:",";cursor:pointer;height:43.5px;font-size:14px;:hover:not(:disabled){opacity:0.5;}:disabled{background:",";cursor:not-allowed;}"],(function(e){var t=e.theme;return e.cancel?t.colors.black:t.colors.primary}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primaryMutedInactive})),u=Object(i.c)(d).withConfig({displayName:"Button__FixedSizeButton",componentId:"hh7xaw-1"})(["width:43.5px;padding:0%;"]),s=function(e){var t=e.icon,n=Object(r.a)(e,["icon"]),o=Object(i.c)(t).withConfig({displayName:"Button__StyledIcon",componentId:"hh7xaw-2"})(["color:",";width:20px;"],(function(e){return e.theme.colors.white}));return c(u,n,c(o,null))}}},[["SKQo",1,2,4,5,6,0,3,7]]]);
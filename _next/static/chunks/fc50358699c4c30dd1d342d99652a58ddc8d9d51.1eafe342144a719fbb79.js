(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},DiMl:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return s}));var o=n("rePB"),c=n("1OyB"),i=n("vuIU"),a=n("Wcq6"),d=n.n(a),u=n("WdAl");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=function(){function e(t,n,r,o){Object(c.a)(this,e),this.name=t,this.cards=n,this.uid=r,this.createdAt=o}return Object(i.a)(e,[{key:"updateName",value:function(t){return new e(t,this.cards,this.uid,this.createdAt)}},{key:"updateCard",value:function(t,n,r){var c=this.cards.map((function(e,c){return c!==t?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(o.a)({},n,r))}));return new e(this.name,c,this.uid,this.createdAt)}},{key:"addCard",value:function(){var t=[].concat(r(this.cards),[{original:"",translation:""}]);return new e(this.name,t,this.uid,this.createdAt)}},{key:"removeCard",value:function(t){var n=this.cards.filter((function(e,n){return n!==t}));return new e(this.name,n,this.uid,this.createdAt)}},{key:"submitChanges",value:function(e){var t={name:this.name,cards:this.cards,uid:this.uid,createdAt:this.createdAt};return u.a.collection("decks").doc(e).set(t).then((function(){return t}))}},{key:"copy",value:function(e){var t={name:"Copy of ".concat(this.name),cards:this.cards,uid:e,createdAt:d.a.firestore.FieldValue.serverTimestamp()};return u.a.collection("decks").add(t).then((function(e){return e.id}))}}]),e}();s.create=function(e){return u.a.collection("decks").add({createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:e,name:"Untitled Deck",cards:[]}).then((function(e){return e.id}))},s.get=function(e){return u.a.collection("decks").doc(e).get().then((function(e){if(!e.exists)throw new Error("The deck could not be found. Try going back to your decks, and trying this action again.");var t=e.data(),n=t.name,r=t.cards,o=t.uid,c=t.createdAt;return new s(n,r,o,c)}))},s.delete=function(e){return u.a.collection("decks").doc(e).delete()}},ZG5O:function(e,t,n){"use strict";var r=n("ODXe"),o=n("vOnD"),c=n("q1tI"),i=n.n(c),a=n("YFqc"),d=n.n(a),u=n("55GN"),l=i.a.createElement,s=o.c.div.withConfig({displayName:"DeckSearch",componentId:"sc-1932j2x-0"})(["display:flex;flex-direction:column;background-color:",";justify-content:flex-start;align-items:flex-start;margin:10px;flex:0 0 30%;max-width:400px;@media screen and (max-width:","){max-width:600px;margin:25px 0;justify-content:center;align-items:center;flex:none;}"],(function(e){return e.theme.colors.white}),u.a.smallPhone.max),p=o.c.div.withConfig({displayName:"DeckSearch__SearchBar",componentId:"sc-1932j2x-1"})(["display:flex;flex-direction:row;padding-bottom:10px;height:50px;width:100%;@media screen and (max-width:","){width:90%;}"],u.a.smallPhone.max),h=o.c.input.withConfig({displayName:"DeckSearch__SearchBox",componentId:"sc-1932j2x-2"})(["background:",";padding:10px 20px;border:1px solid ",";border-radius:10px;flex:1;font-size:18px;font-weight:300;:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.border})),f=o.c.button.withConfig({displayName:"DeckSearch__SortOption",componentId:"sc-1932j2x-3"})(["background-color:",";color:",";width:280px;border-radius:10px;padding:5px;border:none;font-family:",";font-size:15px;font-weight:300;margin:5px 0;width:100%;:focus{outline:none;}@media screen and (max-width:","){width:90%;}"],(function(e){return e.active?e.theme.colors.primaryMutedInactive:e.theme.colors.primaryMuted}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.fonts.text}),u.a.smallPhone.max),m=function(e){var t=e.sortType,n=e.setSortType,r=e.searchWord,o=e.setSearchWord,c=function(e){return e.type===t.type&&e.order===t.order};return l(s,null,l(p,null,l(h,{placeholder:"Search by deck name",title:"Search by deck name",value:r,onChange:function(e){return o(e.target.value)}})),l(f,{onClick:function(){n({type:"date",order:1})},active:c({type:"date",order:1})},"Sort by creation date descending"),l(f,{onClick:function(){n({type:"date",order:-1})},active:c({type:"date",order:-1})},"Sort by creation date ascending"),l(f,{onClick:function(){n({type:"alphabetical",order:1})},active:c({type:"alphabetical",order:1})},"Sort by name A-Z"),l(f,{onClick:function(){n({type:"alphabetical",order:-1})},active:c({type:"alphabetical",order:-1})},"Sort by name Z-A"))},b=n("+IKJ"),w=n("mrSG"),y=n("OXR1"),x=c.forwardRef((function(e,t){return c.createElement(y.a,Object(w.__assign)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",key:"k0"}),c.createElement("path",{fill:"none",d:"M0 0h24v24H0z",key:"k1"}))}));x.displayName="Edit";var g=c.forwardRef((function(e,t){return c.createElement(y.a,Object(w.__assign)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 100 100"},e,{ref:t}),c.createElement("path",{d:"M76.982 50c0-.847-.474-1.575-1.167-1.957L26.541 19.595a2.23 2.23 0 00-1.279-.404 2.244 2.244 0 00-2.244 2.243c0 .087.016.169.026.253h-.026v57.131h.026a2.235 2.235 0 002.218 1.99 2.22 2.22 0 001.117-.308l.02.035L75.875 51.97l-.02-.035A2.233 2.233 0 0076.982 50z",key:"k0"}))}));g.displayName="Play";var k=n("2iwK"),v=i.a.createElement,O=o.c.a.withConfig({displayName:"DeckBox",componentId:"sc-1eyxbev-0"})(["position:relative;display:flex;flex:0 0 auto;flex-direction:column;width:150px;height:150px;padding:10px;padding-bottom:20px;margin:10px;border-radius:10px;justify-content:center;align-items:center;border-style:",";border-color:",";border-width:4px;background-color:",";font-family:",";font-size:20px;font-weight:600;text-align:center;color:",";text-decoration:none;font-weight:300;cursor:pointer;:hover{background-color:",";}:disabled{cursor:not-allowed;}:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}@media screen and (max-width:","){width:90%;margin:10px 0;:first-child{margin-top:0;}}"],(function(e){return e.hollow?"dashed":"none"}),(function(e){return e.theme.colors.primaryMuted}),(function(e){return e.hollow?Object(b.a)(1,e.theme.colors.primaryMuted):e.theme.colors.primaryMuted}),(function(e){return e.theme.fonts.text}),(function(e){return e.hollow?e.theme.colors.primaryMuted:e.theme.colors.white}),(function(e){return e.hollow?Object(b.a)(.8,e.theme.colors.primaryMuted):Object(b.a)(.3,e.theme.colors.primaryMuted)}),(function(e){return e.theme.colors.primaryMuted}),u.a.smallPhone.max),j=o.c.div.withConfig({displayName:"DeckBox__ActionWrapper",componentId:"sc-1eyxbev-1"})(["position:absolute;bottom:10px;right:5px;"]),C=o.c.button.withConfig({displayName:"DeckBox__ActionButton",componentId:"sc-1eyxbev-2"})(["position:relative;margin:0;border-radius:10px;border:none;padding:5px;background-color:transparent;color:",";:hover{background-color:",";}:hover > div{visibility:visible;}:focus{outline:none;}"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.highlighted})),D=o.c.div.withConfig({displayName:"DeckBox__ToolTip",componentId:"sc-1eyxbev-3"})(["position:absolute;top:-15px;width:20px;height:20px;visibility:hidden;@media screen and (max-width:","){width:30px;}"],u.a.smallPhone.max),A=Object(o.c)(x).withConfig({displayName:"DeckBox__StyledEditIcon",componentId:"sc-1eyxbev-4"})(["color:",";width:20px;@media screen and (max-width:","){width:30px;}"],(function(e){return e.theme.colors.white}),u.a.smallPhone.max),P=Object(o.c)(g).withConfig({displayName:"DeckBox__StyledPlay",componentId:"sc-1eyxbev-5"})(["color:",";width:20px;@media screen and (max-width:","){width:30px;}"],(function(e){return e.theme.colors.white}),u.a.smallPhone.max),S=function(e){var t=e.loading,n=e.onClick;return v(O,{hollow:!0,as:"button",onClick:n,disabled:t},t?v(k.a,null):"+")},_=function(e){var t=e.id,n=e.browseContext;return v(d.a,{href:"/edit-deck?id=".concat(t,"&cameFrom=","browse","&browseContext=").concat(n)},v(C,{"aria-label":"Edit"},v(D,null,"Edit"),v(A,null)))},B=Object(c.forwardRef)((function(e,t){var n=e.children,r=e.onClick,o=e.hollow,c=e.href,i=e.id,a=e.edit,u=e.browseContext;return v(O,{href:c,ref:t,onClick:r,hollow:o},v("div",null,n),v(j,null,a?v(_,{id:i,browseContext:u}):null,v(d.a,{href:"/run-deck?id=".concat(i,"&cameFrom=","browse","&browseContext=").concat(u)},v(C,{"aria-label":"Run"},v(D,null,"Run"),v(P,null)))))})),E=n("slLH"),I=i.a.createElement,N=o.c.div.withConfig({displayName:"BrowseDecks__DeckView",componentId:"h4ypn8-0"})(["height:100vh;display:flex;@media screen and (max-width:","){flex-direction:column;}"],u.a.smallPhone.max),M=o.c.div.withConfig({displayName:"BrowseDecks__DeckWrapper",componentId:"h4ypn8-1"})(["width:auto;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;background-color:",";@media screen and (max-width:","){justify-content:center;align-items:center;margin-bottom:20px;}"],(function(e){return e.theme.colors.white}),u.a.smallPhone.max);t.a=function(e){var t,n=e.decks,o=e.createDeck,i=e.canAddDeck,a=e.browseContext,u=(Object(c.useContext)(E.b).user||{}).uid,l=Object(c.useState)({type:"date",order:1}),s=l[0],p=l[1],h=Object(c.useState)(""),f=h[0],b=h[1];return I(N,null,I(m,{sortType:s,setSortType:p,searchWord:f,setSearchWord:b}),I(M,null,i?I(S,{onClick:o}):null,Object.entries(n).sort((t=s,"alphabetical"===t.type?function(e,n){return e[1].name>n[1].name?t.order:e[1].name<n[1].name?-t.order:0}:function(e,n){return e[1].createdAt.toDate()>n[1].createdAt.toDate()?t.order:e[1].createdAt.toDate()<n[1].createdAt.toDate()?-t.order:0})).filter((function(e){var t=new RegExp(f,"gi");return e[1].name.match(t)})).map((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return I(d.a,{key:n,href:"/view-deck?id=".concat(n,"&cameFrom=","browse","&browseContext=").concat(a),passHref:!0},I(B,{id:n,edit:u===o.uid,browseContext:a},o.name))}))))}},bIAK:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),c=n("8Kt/"),i=n.n(c),a=n("2iwK"),d=n("uX9c"),u=n("miQB"),l=o.a.createElement;t.a=function(e,t){var n=t.canAddDeck,o=t.browseContext;return function(t){var c=t.user,s=(c=void 0===c?{}:c).uid,p=Object(r.useContext)(u.a),h=p.communityDecks,f=p.userDecks,m=s?f:h,b=m.status,w=m.decks,y=m.error,x=m.createDeck;return"preloaded"===b||"adding"===b?l(a.b,null,l(a.c,null)):"loaded"===b?l(e,{decks:w,createDeck:x,canAddDeck:n,browseContext:o}):(console.error(y),l(d.a,null,l(i.a,null,l("title",{key:"title"},"Oops! | Speak Repeat")),"There was an error with fetching your decks. Please refresh the page."))}}},cpgX:function(e,t,n){"use strict";var r=n("vOnD"),o=n("nOHt"),c=n("q1tI"),i=n.n(c),a=n("YFqc"),d=n.n(a),u=n("Hcgl"),l=i.a.createElement,s=r.c.div.withConfig({displayName:"ViewBar__ViewBarBox",componentId:"itzrp2-0"})(["width:100%;height:80px;display:flex;flex-direction:row;background-color:",";justify-content:flex-end;align-items:center;"],(function(e){return e.theme.colors.focusBackground})),p=r.c.button.withConfig({displayName:"ViewBar__ViewLinks",componentId:"itzrp2-1"})(["background-color:",";border:none;height:80px;color:",";font-family:",";font-size:15px;font-weight:300;cursor:pointer;:focus{outline:none;box-shadow:0px 0px 10px 2px ",";}"],(function(e){return e.theme.colors.focusBackground}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.fonts.text}),(function(e){return e.theme.colors.border}));t.a=Object(o.withRouter)((function(e){var t=e.router.pathname;return l(s,null,l(d.a,{href:"/repeat"},l(u.a,{active:"/repeat"===t},l(p,null,"My Decks"))),l(d.a,{href:"/all-decks"},l(u.a,{active:"/all-decks"===t},l(p,null,"Browse Community Decks"))))}))},miQB:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("q1tI"),o=n.n(r),c=n("slLH"),i=n("rePB"),a=n("nOHt"),d=n("1OyB"),u=n("WdAl"),l=function e(){Object(d.a)(this,e)};l.get=function(e,t){return(t?u.a.collection("decks").where("uid","==",t):u.a.collection("decks")).onSnapshot({includeMetadataChanges:!0},(function(t){if(!t.metadata.hasPendingWrites){var n={};t.forEach((function(e){n[e.id]=e.data()})),e({type:"update",decks:n})}}),(function(t){return e({type:"error",error:t})}))};var s=n("DiMl");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){if("adding"===e.status&&"success"!==t.type)return e;switch(t.type){case"update":return h({},e,{status:"loaded",decks:t.decks});case"add_deck":return h({},e,{status:"adding"});case"success":return h({},e,{status:"loaded"});case"error":return h({},e,{status:"rejected",error:t.error});default:throw new Error("Unhandled action type: ".concat(t.type))}},m=function(e){var t=Object(a.useRouter)(),n=Object(r.useReducer)(f,{status:"preloaded",decks:null,error:null}),o=n[0],c=n[1];Object(r.useEffect)((function(){l.get(c,e)}),[e]);return h({},o,{createDeck:function(){c({type:"add_deck"}),s.a.create(e).then((function(e){t.push("/edit-deck?id=".concat(e,"&cameFrom=","create","&browseContext=","repeat")),c({type:"success"})})).catch((function(e){return c({type:"error",error:e})}))}})},b=o.a.createElement,w=Object(r.createContext)();t.b=function(e){var t,n=e.children,o=null===(t=Object(r.useContext)(c.b).user)||void 0===t?void 0:t.uid,i=m(),a=m(o);return b(w.Provider,{value:{communityDecks:i,userDecks:a}},n)}},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}))}}]);